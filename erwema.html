<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>TB2nAHBXvQs8KJjSZFEXXc9RpXa_!!2015018611.jpg_640x640q85s150_.webp (640×640)</title>
	 <meta name="viewport" content="width=device-width, minimum-scale=0.1">
    <link rel="stylesheet" href="css/swiper-4.3.5.min.css">
    <title></title>
    <link rel="stylesheet" href="css/beas.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_973450_xnq73g0yug.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_973450_unjvq99625.css">
    <link rel="stylesheet" href="./css/rem.css">
    <script src="./js/jquery.min.js"></script>
    <style>
    	*{
    		margin: 0;
    		padding: 0;
    	}
    	body,html{
    		width: 100%;
    		height: 100%;
    		background: #000;
    	}
    	img{
    		width: 70%;
    		height: 40%;
    		position: absolute;
    		top: 0;
    		right: 0;
    		bottom: 0;
    		left: 0;
    		margin: auto;
    	}

    </style>
</head>
<body>
	<img style="-webkit-user-select: none;background-position: 0px 0px, 10px 10px;background-size: 20px 20px;background-color: white;background-image:linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee 100%),linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee 100%);cursor: zoom-in;" src="https://img.alicdn.com/imgextra/i1/2015018611/TB2nAHBXvQs8KJjSZFEXXc9RpXa_!!2015018611.jpg_640x640q85s150_.webp" width="360" height="360" id="erweima">
</body>
</html>
<script>
var triggerEvent = "touchstart"; //指定下载方式
 
function saveAs(Url){
    var blob=new Blob([''], {type:'application/octet-stream'});
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = Url;
    a.download = Url.replace(/(.*\/)*([^.]+.*)/ig,"$2").split("?")[0];
    var e = document.createEvent('MouseEvents');
    e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
    a.dispatchEvent(e);
    URL.revokeObjectURL(url);
}
 
var imgs = document.getElementsByTagName("img");
for(var i = 0,o;o = imgs[i];i++){
    o.addEventListener(triggerEvent,function(){
        var url = this.getAttribute("src");
        saveAs(url);
    },false);
}


var timeOutEvent=0;//定时器
$(function(){
    $("#erweima").on({
        //手指开始按时设置定时器，超过500毫秒就执行longPress()
        touchstart: function(e){
            timeOutEvent = setTimeout("longPress()",500);
            e.preventDefault();
        },
       //如果手指滑动只是说明用户不想长按只想滑动，所以要取消定时器,并还原，
       //如果不还原的话，返回的定时器的值都会是不同的
        touchmove: function(){
                clearTimeout(timeOutEvent); 
                timeOutEvent = 0; 
        },
        //长按没有超过500毫秒，手指离开，执行点击事件，取消定时器
        touchend: function(){
            clearTimeout(timeOutEvent);
            if(timeOutEvent!=0){ 
                //执行点击事件的行为
                // alert("你这是点击，不是长按"); 
            } 
            return false; 
        }
    })
});
 
function longPress(){ 
    timeOutEvent = 0; 
   //执行长按事件的行为
   // console.log(1);
   saveAs(Url);
} 

</script>